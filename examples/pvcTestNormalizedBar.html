<!DOCTYPE html>
<html>
  <head>
    <title>CCC Samples - Normalized Bar</title>

    <meta name="svg.render.forceflash" content="true">

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="../package-res/lib/jquery.js"></script>
    
    <script type="text/javascript" src="data/q01-01.js"></script>
    <script type="text/javascript" src="../package-res/lib/protovis.js"></script>
    <script type="text/javascript" src="../package-res/lib/protovis-msie.js"></script>
    <script type="text/javascript" src="../package-res/lib/jquery.tipsy.js"></script>
    <script type="text/javascript" src="../package-res/lib/tipsy.js"></script>
    <link type="text/css" href="../package-res/lib/tipsy.css" rel="stylesheet"/>
        <script type="text/javascript" src="../package-res/def/def.js"></script>


    <!-- @SCRIPTSBEG@ -->
        <script type="text/javascript" src="../package-res/ccc/core/base/pvc.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/abstract.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/optionsMgr.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/abstract-options.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/abstract-interactive.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/color.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/context.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/text.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/trends.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/scene/scene.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/scene/var.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/visualRole/visualRole.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/visualRole/visualRoleVarHelper.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/dataCell/dataCell.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/dataCell/color-dataCell.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/axis/abstract-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/axis/color-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/axis/size-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/axis/normalized-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/panel/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/plot/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/plot/plot-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/plot/plotBg-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/legend-options.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/legend-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/scene/root-legend-scene.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/scene/group-legend-scene.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/scene/item-legend-scene.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/scene/item-legend-scene.selection.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/scene/item-legend-scene.visibility.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/scene/item-legend-renderer.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/legend/scene/default-item-legend-renderer.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/title/abstract-title-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/title/title-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/panel/dockingGrid-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.visualRoles.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.data.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.plots.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.axes.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.panels.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.selection.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/chart/chart.extension.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/multi/multiChart-options.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/multi/multiChart-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/multi/smallChart-options.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/base-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/panel-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/label-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/value-label-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/dot-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/dotSizeColor-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/line-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/area-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/bar-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/base/sign/rule-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/axis/cart-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/axis/root-cart-axis-scene.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/axis/tick-cart-axis-scene.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/axis/abstract-cart-axis-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/axis/cart-axis-title-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/cart-focusWindow.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/ortho-cart-dataCell.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/cart-plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/cart-chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/cart-dockingGrid-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/cartesian/cart-panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/categorical/categ-plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/categorical/categ-chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/core/categorical/categ-panel.js"></script>
        <script type="text/javascript" src="../package-res/cdo/_data.js"></script>
        <script type="text/javascript" src="../package-res/cdo/meta/dimensionType.js"></script>
        <script type="text/javascript" src="../package-res/cdo/meta/complexType.js"></script>
        <script type="text/javascript" src="../package-res/cdo/meta/complexTypeProject.js"></script>
        <script type="text/javascript" src="../package-res/cdo/atom.js"></script>
        <script type="text/javascript" src="../package-res/cdo/complex.js"></script>
        <script type="text/javascript" src="../package-res/cdo/complexView.js"></script>
        <script type="text/javascript" src="../package-res/cdo/datum.js"></script>
        <script type="text/javascript" src="../package-res/cdo/dimension.js"></script>
        <script type="text/javascript" src="../package-res/cdo/data/data.js"></script>
        <script type="text/javascript" src="../package-res/cdo/data/data.selected.js"></script>
        <script type="text/javascript" src="../package-res/cdo/data/data.operations.js"></script>
        <script type="text/javascript" src="../package-res/cdo/data/data.compat.js"></script>
        <script type="text/javascript" src="../package-res/cdo/oper/abstract-oper.js"></script>
        <script type="text/javascript" src="../package-res/cdo/oper/grouping-oper.js"></script>
        <script type="text/javascript" src="../package-res/cdo/oper/groupingSpec.js"></script>
        <script type="text/javascript" src="../package-res/cdo/oper/linear-interp-oper.js"></script>
        <script type="text/javascript" src="../package-res/cdo/oper/linear-interp-seriesState.js"></script>
        <script type="text/javascript" src="../package-res/cdo/oper/zero-interp-oper.js"></script>
        <script type="text/javascript" src="../package-res/cdo/oper/zero-interp-seriesState.js"></script>
        <script type="text/javascript" src="../package-res/cdo/transl/transl.js"></script>
        <script type="text/javascript" src="../package-res/cdo/transl/matrix-transl.js"></script>
        <script type="text/javascript" src="../package-res/cdo/transl/crosstab-transl.js"></script>
        <script type="text/javascript" src="../package-res/cdo/transl/relational-transl.js"></script>
        <script type="text/javascript" src="../package-res/cdo/format/number-formatStyle.js"></script>
        <script type="text/javascript" src="../package-res/cdo/format/number-format.js"></script>
        <script type="text/javascript" src="../package-res/cdo/format/date-format.js"></script>
        <script type="text/javascript" src="../package-res/cdo/format/custom-format.js"></script>
        <script type="text/javascript" src="../package-res/cdo/format/formatProvider.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/abstract-metricxy/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/abstract-metricxy/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/abstract-bar/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/abstract-bar/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/abstract-bar/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/pie/slice-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/pie/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/pie/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/pie/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/bar/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/bar/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/bar/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/nbar/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/nbar/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/nbar/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/water/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/water/group-legend-scene.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/water/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/water/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/point/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/point/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/point/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/scatter/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/scatter/transl.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/scatter/size-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/scatter/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/scatter/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/heatGrid/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/heatGrid/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/heatGrid/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/box/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/box/transl.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/box/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/box/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/treemap/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/treemap/color-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/treemap/transl.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/treemap/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/treemap/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/sunburst/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/sunburst/color-axis.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/sunburst/transl.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/sunburst/panel.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/sunburst/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/sunburst/slice-sign.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/bullet/plot.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/bullet/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/parallel/chart.js"></script>
        <script type="text/javascript" src="../package-res/ccc/plugin/dataTree/chart.js"></script>
    <!-- @SCRIPTSEND@ -->
    
    
    
        
    <script type="text/javascript" src="pvcDocUtils.js"></script>
  </head>
  <body>

    <h1>
      100% Stacked Bar Chart
    </h1>
Use 100% normalized/stacked/segmented bar charts to show a part-whole relation over time.

<h2>Chart Options</h2>
<h4>Dimensions</h4>
<ul>
  <li>width</li>
  <li>height</li>
  <li>margins -
      css-like margins shorthand syntax (without units) or object with properties 'all', 'top', 'bottom', 'left' and/or 'right'.
      Margins consume the chart's width and height (inside margins).
  </li>
</ul>
<h4>Title properties</h4>
<ul>
  <li>title</li>
  <li>titlePosition</li>
  <li>titleSize</li>
</ul>
<h4>Lifecycle</h4>
<ul>
  <li>renderCallback - executed immediatly before render is called</li>
</ul>
<h4>Legend properties</h4>
<ul>
  <li>legend (true|false)</li>
  <li>legendPosition (right, top, bottom, left)</li>
  <li>legendAlign (right, left, center, top, middle, bottom)</li>
  <li>legendSize</li>
  <li>legendDrawLine (true|false)</li>
  <li>legendDrawMarker (true|false)</li>
  <li>tooltipEnabled (true|false)</li>
</ul>
<h4>Bar properties</h4>
<ul>
  <li>orientation (horizontal | vertical)</li>
  <li>valuesVisible (true|false)</li>
  <li>stacked (true|false)</li>
  <li>panelSizeRatio - Ratio of the band occupied by the pane. Default: 0.5 (50%)</li>
  <li>barSizeRatio - In non-stacked, multiple series,
      percentage of inner band occupied by bars 
      (controls space between bars of the same category).
      Default: 0.9 (90%)
  </li>
  <li>barSizeMax - Maximum size of a bar in pixels.</li>
  <li>barStackedMargin - Margin that separates stacked bars, in pixels. Default: 0</li>
</ul>

<h4>Axis properties</h4>

<ul>
  <li>show{X,Y}Scale (true | false) - whether to show an axis. Default: true</li>
  <li>plot2 (true | false) - whether to show the second axis. Default: false</li>
  <li>xAxisPosition (bottom | top) - the position of the X axis. Default: bottom</li>
  <li>yAxisPosition (left | right) - the position of the Y axis. Default: left</li>
  <li>{x,y}AxisSize - the size of <i>free dimension</i> of an axis (X: height, Y: width). Default: 30</li>
  <li>{x,y}AxisGrid (true | false) - show lines on all (major) ticks, except the first and the last. Default: false</li>
  <li>{x,y}AxisEndLine (true | false) - show a line on the last (major) tick. Default: false</li>
  <li>{x,y}AxisTitle - The axis title text. Default: null</li>
  <li>{x,y}AxisTitleFont - The axis title font. Default: '10px sans-serif'</li>
  <li>{x,y}AxisTitleSize - The size of the axis title.
      The size is the width when the axis is vertical and the height when it is horizontal.
      The title consumes space from the specified {x|y|second}AxisSize.
      Default: The required by the font height plus a proportional margin.</li>
  <li>{x,y}AxisDomainRoundMode (none | nice | tick) - rounding mode of the domain bounds of a linear scale axis. Default: none</li>
  <li>{x,y}AxisDesiredTickCount - desired number of (major) ticks of a linear scale axis. Default: 5</li>
  <li>{x,y}AxisMinorTicks (true|false) - show minor ticks on a linear scale axis. Default: true</li>
</ul>


<h2>Extension Points</h2>
The following&nbsp;list&nbsp;serves as the basis
for&nbsp;Bar extension points:
<ul>
  <li>base_</li>
  <li>title_</li>
  <li>titleLabel_</li>
   <li>legendArea_</li>
  <li>legendPanel_</li>
  <li>legendRule_</li>
  <li>legendDot_</li>
  <li>legendLabel_</li>
  <li>{x,y}Axis_</li>
  <li>{x,y}AxisRule_</li>
  <li>{x,y}AxisGrid_</li>
  <li>{x,y}AxisScale_</li>
  <li>{x,y}AxisTicks_</li>
  <li>{x,y}AxisMinorTicks_</li>
  <li>{x,y}AxisLabel_</li>
  <li>{x,y}AxisTitleLabel_</li>
  <li>tooltip_</li>
  <li>barLabel_</li>
  <li>barPanel_</li>
  <li>bar_</li>
  <li>chart_</li>
</ul>

Sample extension points:<br>
<ul>
  <li>bar_fillStyle: for setting the bars fill colors.</li>
  <li>bar_strokeStyle and bar_lineWidth: for setting the stroke
color&nbsp;and thickness.</li>
  <li>titleLabel_font</li>
  <li>yAxisRule_strokeStyle</li>
  <li>barLabel_textAngle</li>
  <li>xAxisScale_dateTickPrecision</li>
</ul>

<h2>Examples</h2>
<h3>A 100% Stacked Bar chart</h3>
    <br />
<textarea cols="55" rows="15" id="pvcBar1Code">
var bar1 = new pvc.NormalizedBarChart({
    canvas: "pvcBar1",
    width: 400,
    height: 250,
    title: "100% Stacked Bar Chart",
    orientation: 'vertical',
    animate:false,
    clickable: true,
    selectable: true,
    hoverable: true,
    legend:true,
    legendPosition:"right",

    extensionPoints: {
    	xAxisLabel_textAngle: -Math.PI/3,
    	xAxisLabel_textAlign: "right",
    	xAxisLabel_textBaseline: "top",
        xAxisLabel_textMargin: 0
    }
});

bar1.setData(relational_01,
    {crosstabMode: false,
     seriesInRows: false});
bar1.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar1"></div>


<h3>A 100% Stacked Horizontal Bar chart</h3>
    <br />
<textarea cols="55" rows="15" id="pvcBar2Code">
var bar2 = new pvc.NormalizedBarChart({
    canvas: "pvcBar2",
    width: 400,
    height: 250,
    title: "100% Stacked Horizontal Bar Chart",
    orientation: 'horizontal',
    animate:false,
    clickable: true,
    selectable: true,
    hoverable: true,
    legend:true,
    legendPosition:"right"
});

bar2.setData(relational_01,
    {crosstabMode: false,
     seriesInRows: false});
bar2.render();
</textarea>
        <button class="tryMe" onclick='tryMe(this)'>Try me</button>
        <div id="pvcBar2"></div>

    </body>
</html>